{"version":3,"sources":["utils/config.js","components/utils/Identicon.js","components/wallet/Wallet.js","components/utils/Notifications.js","components/marketplace/AddProduct.js","components/marketplace/Product.js","components/utils/Loader.js","utils/marketplace.js","components/marketplace/Products.js","assets/img/sandwich.jpg","utils/near.js","App.js","reportWebVitals.js","index.js"],"names":["CONTRACT_NAME","process","module","exports","env","networkId","nodeUrl","contractName","walletUrl","helperUrl","explorerUrl","Error","Identicons","address","Wallet","amount","symbol","destroy","Dropdown","Toggle","variant","align","id","className","Spinner","animation","size","Identicon","Menu","Item","href","target","Stack","direction","gap","Divider","as","onClick","Notification","position","autoClose","hideProgressBar","newestOnTop","closeOnClick","rtl","pauseOnFocusLoss","draggable","pauseOnHover","NotificationSuccess","text","NotificationError","DefaultProps","defaultProps","AddProduct","save","useState","name","setName","image","setImage","description","setDescription","location","setLocation","price","setPrice","show","setShow","handleClose","Button","style","width","class","Modal","onHide","centered","Header","closeButton","Title","Form","Body","FloatingLabel","controlId","label","Control","type","onChange","e","value","placeholder","height","Footer","disabled","Product","product","buy","sold","owner","Col","Card","Badge","bg","src","alt","objectFit","Text","utils","format","formatNearAmount","Loader","role","GAS","buyProduct","a","window","contract","productId","Products","products","setProducts","loading","setLoading","getProducts","useCallback","console","log","error","addProduct","data","uuid4","parseNearAmount","writeProduct","then","resp","toast","useEffect","Row","xs","sm","lg","map","_product","nearEnv","environment","connect","Object","assign","deps","keyStore","keyStores","BrowserLocalStorageKeyStore","near","walletConnection","WalletConnection","accountId","getAccountId","Contract","account","viewMethods","changeMethods","accountBalance","getAccountBalance","total","login","requestSignIn","logout","signOut","reload","App","balance","setBalance","getBalance","Container","fluid","Nav","background","minHeight","maxWidth","coverImg","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","nearInitPromise","initializeContract","ReactDOM","render","StrictMode","document","getElementById","catch"],"mappings":"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","file":"static/js/main.209a101a.chunk.js","sourcesContent":["const CONTRACT_NAME = process.env.CONTRACT_NAME || 'dacade.testnet' // put here a smart contracts' name\n\nfunction environment(env) {\n  switch (env) {\n\n  case 'mainnet':\n    return {\n      networkId: 'mainnet',\n      nodeUrl: 'https://rpc.mainnet.near.org',\n      contractName: CONTRACT_NAME,\n      walletUrl: 'https://wallet.near.org',\n      helperUrl: 'https://helper.mainnet.near.org',\n      explorerUrl: 'https://explorer.mainnet.near.org',\n    }\n  case 'testnet':\n    return {\n      networkId: 'testnet',\n      nodeUrl: 'https://rpc.testnet.near.org',\n      contractName: CONTRACT_NAME,\n      walletUrl: 'https://wallet.testnet.near.org',\n      helperUrl: 'https://helper.testnet.near.org',\n      explorerUrl: 'https://explorer.testnet.near.org',\n    }\n  default:\n    throw Error(`Unknown environment '${env}'.`)\n  }\n}\n\nmodule.exports = environment\n","import React from \"react\";\n\nconst Identicons = ({ address }) => {\n  return <span></span>;\n};\n\nexport default Identicons;\n","import React from 'react';\nimport { Dropdown, Stack, Spinner} from 'react-bootstrap';\n\nimport Identicon from '../utils/Identicon'\n\nconst Wallet = ({ address, amount, symbol, destroy }) => {\n  if (address) {\n    return <>\n\n    <Dropdown>\n      <Dropdown.Toggle variant=\"light\" align=\"end\"  id=\"dropdown-basic\" className=\"d-flex align-items-center border rounded-pill py-1\">\n\n      { amount ? ( \n          <>{amount} <span className=\"ms-1\"> {symbol}</span></> \n          ):( <Spinner animation=\"border\" size=\"sm\" className=\"opacity-25\" />)}\n      <Identicon address={address} size={28} className=\"ms-2 me-1\"/>\n\n      </Dropdown.Toggle>\n\n      <Dropdown.Menu className=\"shadow-lg border-0\" >\n\n\n        <Dropdown.Item href={`https://explorer.testnet.near.org/accounts/${address}`}  target=\"_blank\">     \n            <Stack direction=\"horizontal\" gap={2}>\n                <i className=\"bi bi-person-circle fs-4\" />\n                <span className=\"font-monospace\">{address}</span>\n            </Stack>\n        </Dropdown.Item>\n\n        <Dropdown.Divider />\n        <Dropdown.Item as=\"button\" className=\"d-flex align-items-center\"  onClick={() => {destroy();}} >\n            <i className=\"bi bi-box-arrow-right me-2 fs-4\" />\n            Disconnect\n        </Dropdown.Item>\n      </Dropdown.Menu>\n    </Dropdown>\n\n    </>\n  }\n\n  return null;\n};\n\n\n\nexport default Wallet; ","import React from 'react';\nimport { ToastContainer } from 'react-toastify';\nimport PropTypes from 'prop-types';\nimport 'react-toastify/dist/ReactToastify.css';\n\nconst Notification = () => (\n  <ToastContainer\n    position=\"bottom-center\"\n    autoClose={5000}\n    hideProgressBar\n    newestOnTop\n    closeOnClick\n    rtl={false}\n    pauseOnFocusLoss\n    draggable={false}\n    pauseOnHover\n  />\n);\n\nconst NotificationSuccess = ({ text }) => (\n  <div>\n    <i className=\"bi bi-check-circle-fill text-success mx-2\" />\n    <span className=\"text-secondary mx-1\">{text}</span>\n  </div>\n);\n\nconst NotificationError = ({ text }) => (\n  <div>\n    <i className=\"bi bi-x-circle-fill text-danger mx-2\" />\n    <span className=\"text-secondary mx-1\">{text}</span>\n  </div>\n);\n\nconst Props = {\n  text: PropTypes.string,\n};\n\nconst DefaultProps = {\n  text: '',\n};\n\nNotificationSuccess.propTypes = Props;\nNotificationSuccess.defaultProps = DefaultProps;\n\nNotificationError.propTypes = Props;\nNotificationError.defaultProps = DefaultProps;\n\nexport { Notification, NotificationSuccess, NotificationError };\n","/* eslint-disable react/jsx-filename-extension */\nimport React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, Form, FloatingLabel } from \"react-bootstrap\";\n\nconst AddProduct = ({ save }) => {\n  // do we really need to use state for every single input?\n  const [name, setName] = useState('');\n  const [image, setImage] = useState('');\n  const [description, setDescription] = useState('');\n  const [location, setLocation] = useState('');\n  const [price, setPrice] = useState(0);\n  const isFormFilled = () => name && image && description && location && price\n\n  const [show, setShow] = useState(false);\n\n  const handleClose = () => setShow(false);\n  const handleShow = () => setShow(true);\n\n  return (\n    <>\n      <Button onClick={handleShow} variant=\"dark\" className=\"rounded-pill px-0\" style={{ width: \"38px\" }}>\n        <i class=\"bi bi-plus\"></i>\n      </Button>\n      <Modal show={show} onHide={handleClose} centered>\n        <Modal.Header closeButton>\n          <Modal.Title>New Product</Modal.Title>\n        </Modal.Header>\n        <Form>\n          <Modal.Body>\n            <FloatingLabel\n              controlId=\"inputName\"\n              label=\"Product name\"\n              className=\"mb-3\"\n            >\n              <Form.Control\n                type=\"text\"\n                onChange={(e) => {\n                  setName(e.target.value);\n                }}\n                placeholder=\"Enter name of product\"\n                placeholder=\"Product name\"\n              />\n            </FloatingLabel>\n            <FloatingLabel controlId=\"inputUrl\" label=\"Image URL\" className=\"mb-3\">\n              <Form.Control type=\"text\" placeholder=\"Image URL\"\n                onChange={(e) => {\n                  setImage(e.target.value);\n                }} />\n            </FloatingLabel>\n            <FloatingLabel controlId=\"inputDescription\" label=\"Description\" className=\"mb-3\">\n              <Form.Control as=\"textarea\"\n                placeholder=\"description\"\n                style={{ height: '80px' }}\n                onChange={(e) => {\n                  setDescription(e.target.value);\n                }}\n              />\n            </FloatingLabel>\n            <FloatingLabel controlId=\"inputLocation\" label=\"Location\" className=\"mb-3\">\n              <Form.Control type=\"text\" placeholder=\"Location\"\n                onChange={(e) => {\n                  setLocation(e.target.value);\n                }}\n              />\n            </FloatingLabel>\n            <FloatingLabel controlId=\"inputPrice\" label=\"Price\" className=\"mb-3\">\n              <Form.Control type=\"text\" placeholder=\"Price\"\n                onChange={(e) => {\n                  setPrice(e.target.value);\n                }}\n              />\n            </FloatingLabel>\n          </Modal.Body>\n        </Form>\n        <Modal.Footer>\n          <Button variant=\"outline-secondary\" onClick={handleClose}>\n            Close\n          </Button>\n          <Button variant=\"dark\"\n            disabled={!isFormFilled()}\n            onClick={() => {\n              save({\n                name, image,\n                description,\n                location,\n                price,\n              });\n              handleClose();\n            }}\n          >\n            Save product\n          </Button>\n        </Modal.Footer>\n      </Modal>\n    </>\n  );\n};\n\nAddProduct.propTypes = {\n  save: PropTypes.func.isRequired,\n};\n\nexport default AddProduct;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { utils } from 'near-api-js';\nimport { Card, Button, Col, Badge, Stack } from \"react-bootstrap\";\nimport Identicon from '../utils/Identicon'\n\nconst Product = ({ product, buy }) => {\n  const {\n    id, price, name, description, sold, location, image, owner\n  } = product;\n\n  const triggerBuy = () => {\n    buy(id, price);\n  };\n\n  return (\n    <Col key={id}>\n      <Card className=\" h-100\">\n        <Card.Header>\n          <Stack direction=\"horizontal\" gap={2}>\n            <Identicon address={owner} size={28} />\n            <span className=\"font-monospace text-secondary\">{owner}</span>\n            <Badge bg=\"secondary\"\n              className=\"ms-auto\">\n              {sold} Sold\n            </Badge>\n          </Stack>\n        </Card.Header>\n        <div className=\" ratio ratio-4x3\"> \n            <img  src={image} alt={name} style={{objectFit: 'cover'}}/>     \n        </div>\n        <Card.Body className=\"d-flex  flex-column text-center\">\n        <Card.Title>{name}</Card.Title>\n          <Card.Text className=\"flex-grow-1 \">{description}</Card.Text>\n          <Card.Text className=\"text-secondary\">  \n            <span>{location}</span>\n          </Card.Text>\n          <Button variant=\"outline-dark\" onClick={triggerBuy} className=\"w-100 py-3\">\n            Buy for {utils.format.formatNearAmount(price)} NEAR\n          </Button>\n        </Card.Body>\n      </Card>\n    </Col>\n  );\n};\n\nProduct.propTypes = {\n  product: PropTypes.instanceOf(Object).isRequired,\n  buy: PropTypes.func.isRequired,\n};\n\nexport default Product;\n","import React from 'react';\nimport { Spinner } from \"react-bootstrap\";\n\nconst Loader = () => (\n  <div className=\"d-flex justify-content-center\">\n    <Spinner animation=\"border\" role=\"status\" className=\"opacity-25\">\n      <span className=\"visually-hidden\">Loading...</span>\n    </Spinner>\n  </div>\n);\nexport default Loader;\n","import { v4 as uuid4 } from 'uuid';\nimport { parseNearAmount } from 'near-api-js/lib/utils/format';\n\nconst GAS = 100000000000000;\n\nexport function createProduct(product) {\n  product.id = uuid4();\n  product.price = parseNearAmount(product.price + \"\");\n  return window.contract.writeProduct({ product });\n}\n\nexport function getProducts() {\n  return window.contract.getProducts();\n};\n\nexport async function buyProduct({ id, price }) {\n  await window.contract.buyProduct({ productId: id }, GAS, price);\n};\n","import React, { useEffect, useState, useCallback } from 'react';\nimport { toast } from 'react-toastify';\nimport AddProduct from './AddProduct';\nimport Product from './Product';\nimport Loader from '../utils/Loader';\nimport { Row } from 'react-bootstrap';\n\nimport { NotificationSuccess, NotificationError } from '../utils/Notifications';\nimport { getProducts as getProductList, buyProduct, createProduct } from '../../utils/marketplace';\n\nconst Products = () => {\n  const [products, setProducts] = useState([]);\n  const [loading, setLoading] = useState(false);\n\n  // function to get the list of products\n  const getProducts = useCallback(async () => {\n    try {\n      setLoading(true);\n      setProducts(await getProductList());\n    } catch (error) {\n      console.log({ error });\n    } finally {\n      setLoading(false);\n    }\n  });\n\n  const addProduct = async (data) => {\n    try {\n      setLoading(true);\n      createProduct(data).then(resp => {\n        getProducts();\n      });\n      toast(<NotificationSuccess text=\"Product added successfully.\" />);\n    } catch (error) {\n      console.log({ error });\n      toast(<NotificationError text=\"Failed to create a product.\" />);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  //  function to initiate transaction\n  const buy = async (id, price) => {\n    try {\n      await buyProduct({\n        id,\n        price\n      }).then(resp => getProducts());\n      toast(<NotificationSuccess text=\"Product bought successfully\" />);\n    } catch (error) {\n      toast(<NotificationError text=\"Failed to purchase product.\" />);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    getProducts();\n  }, []);\n\n  return (\n    <>\n      {!loading ? (\n        <>\n          <div className=\"d-flex justify-content-between align-items-center mb-4\">\n            <h1 className=\"fs-4 fw-bold mb-0\">Street Food</h1>\n            <AddProduct save={addProduct} />\n          </div>\n          <Row xs={1} sm={2} lg={3}  className=\"g-3  mb-5 g-xl-4 g-xxl-5\">\n            {products.map((_product) => (\n              <Product\n                product={{\n                  ..._product,\n                }}\n                buy={buy}\n              />\n            ))}\n          </Row>\n        </>\n      ) : (\n        <Loader />\n      )}\n    </>\n  );\n};\n\nexport default Products;\n","export default __webpack_public_path__ + \"static/media/sandwich.2d312449.jpg\";","import environment from './config';\nimport { connect, Contract, keyStores, WalletConnection } from 'near-api-js';\nimport { formatNearAmount } from 'near-api-js/lib/utils/format';\n\nconst nearEnv = environment('testnet');\n\nexport async function initializeContract() {\n    const near = await connect(Object.assign({ deps: { keyStore: new keyStores.BrowserLocalStorageKeyStore() } }, nearEnv));\n    window.walletConnection = new WalletConnection(near);\n    window.accountId = window.walletConnection.getAccountId();\n    window.contract = new Contract(window.walletConnection.account(), nearEnv.contractName, {\n      // List here all view methods\n      viewMethods: ['getProduct', 'getProducts'],\n      // List call methods that change state\n      changeMethods: ['buyProduct', 'setProduct'],\n    })\n  }\n  \n  export async function accountBalance() {\n    return formatNearAmount((await window.walletConnection.account().getAccountBalance()).total, 2);\n  }\n  \n  export async function getAccountId() {\n    return window.walletConnection.getAccountId();\n  }\n  \n  export function login() {\n    window.walletConnection.requestSignIn(nearEnv.contractName);\n  }\n  \n  export function logout() {\n    window.walletConnection.signOut();\n    window.location.reload();\n  }","import './App.css';\n\nimport React, { useEffect, useCallback, useState } from 'react';\nimport 'react-toastify/dist/ReactToastify.min.css';\nimport { Container, Nav, Button, Alert } from \"react-bootstrap\";\nimport Wallet from \"./components/wallet/Wallet\";\nimport { Notification } from './components/utils/Notifications';\nimport Products from './components/marketplace/Products';\nimport coverImg from \"./assets/img/sandwich.jpg\"\nimport { login, logout as destroy, accountBalance } from './utils/near';\n\nconst App = function AppWrapper() {\n  const account = window.walletConnection.account();\n\n  const [balance, setBalance] = useState(\"0\");\n\n  const getBalance = useCallback(async () => {\n    if (account.accountId) {\n      setBalance(await accountBalance());\n    }\n  });\n\n  useEffect(() => {\n    getBalance();\n  }, [getBalance]);\n\n  return (\n    <>\n      <Notification />\n      {\n        account.accountId ? (\n          <Container fluid=\"md\">\n            <Nav className=\"justify-content-end pt-3 pb-5\">\n              <Nav.Item>\n                <Wallet address={account.accountId} amount={balance} symbol=\"NEAR\" destroy={destroy} />\n              </Nav.Item>\n            </Nav>\n            <main>\n              <Products />\n            </main>\n          </Container>\n        ) : (\n          <div className=\"d-flex justify-content-center flex-column text-center \" style={{ background: \"#000\", minHeight: \"100vh\" }}>\n            <div className=\"mt-auto text-light mb-5\">\n              <div className=\" ratio ratio-1x1 mx-auto mb-2\" style={{ maxWidth: \"320px\" }}>\n                <img src={coverImg} alt=\"\" />\n              </div>\n              <h1>Street Food</h1>\n              <p>\n                Please connect your wallet to continue.\n              </p>\n              <Button onClick={login} variant=\"outline-light\" className=\"rounded-pill px-3 mt-3\">\n                Connect Wallet\n              </Button>\n            </div>\n            <p className=\"mt-auto text-secondary\">Powered by NEAR</p>\n          </div>\n        )\n      }\n    </>\n  );\n};\n\nexport default App;\n","const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({\n      getCLS, getFID, getFCP, getLCP, getTTFB,\n    }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { initializeContract } from './utils/near';\n\nimport 'bootstrap';\nimport 'bootstrap-icons/font/bootstrap-icons.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nwindow.nearInitPromise = initializeContract().then(() => {\n  ReactDOM.render(\n    <React.StrictMode>\n        <App />\n    </React.StrictMode>,\n    document.getElementById('root'),\n  )\n}).catch(console.error)\n\nreportWebVitals();\n"],"sourceRoot":""}